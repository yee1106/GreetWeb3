(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{45301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(96416)}])},96416:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(34051),o=n.n(r),i=n(85893),a=n(67294),u=n(40861),s=n(16368),c=n(11163),f=n(83025),l=n(83078),d=n(9669),m=n.n(d);function v(e){sessionStorage.setItem("scrollPos:".concat(e),JSON.stringify({x:window.scrollX,y:window.scrollY}))}function w(e){var t=sessionStorage.getItem("scrollPos:".concat(e)),n=t?JSON.parse(t):void 0;n&&window.scrollTo(n.x,n.y)}function p(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,o)}var h=(0,s.Pi)((function(){!function(e){(0,a.useEffect)((function(){if("scrollRestoration"in window.history){var t=!1;window.history.scrollRestoration="manual",w(e.asPath);var n=function(t){v(e.asPath),delete t.returnValue},r=function(){v(e.asPath)},o=function(e){t&&(t=!1,w(e))};return window.addEventListener("beforeunload",n),c.default.events.on("routeChangeStart",r),c.default.events.on("routeChangeComplete",o),c.default.beforePopState((function(){return t=!0,!0})),function(){window.removeEventListener("beforeunload",n),c.default.events.off("routeChangeStart",r),c.default.events.off("routeChangeComplete",o),c.default.beforePopState((function(){return!0}))}}}),[e])}((0,c.useRouter)());var e,t=(0,a.useState)(),n=t[0],r=t[1],s=(0,l.Nr)(),d=(s.Moralis,s.isInitialized,(0,a.useState)(1)),h=(d[0],d[1],(0,a.useState)("")),g=h[0],_=(h[1],(0,l.Oc)("NewGreet",(function(e){return e.descending("timestamp_decimal").notEqualTo("uri","").limit(10)}),[]).data),P=((0,l.Oc)("NewGreet",(function(e){return e.descending("timestamp_decimal").notEqualTo("uri","").greaterThan("objectid",g).limit(10)})),(0,a.useCallback)((e=o().mark((function e(){var t,n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(_.map((function(e){return m().get(e.get("uri"))})));case 2:t=e.sent,n=_.map((function(e){return e.get("uid")})),i=_.map((function(e){return e.get("timestamp")})),a=t.map((function(e,t){var r,o=e.data;return{userName:o.creatorName,id:n[t],images:null===(r=o.images)||void 0===r?void 0:r.map((function(e){return e.URI})),textContent:o.text,timestamp:i[t]}})),r(a);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){p(i,r,o,a,u,"next",e)}function u(e){p(i,r,o,a,u,"throw",e)}a(void 0)}))}),[_]));(0,a.useEffect)((function(){return console.log(_),P(),function(){r([])}}),[_,P]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(u.Z,{feeds:n||[],filter:f.D.Trending,isFollowing:!1,hasMore:!1,fetchMore:function(){}})})}))}},function(e){e.O(0,[617,228,445,885,982,50,774,888,179],(function(){return t=45301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);